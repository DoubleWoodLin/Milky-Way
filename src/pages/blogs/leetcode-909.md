---
layout: ../../layouts/MarkdownWorksLayout.astro
title: 909. è›‡æ¢¯æ£‹ğŸ
date: 2021-06-27
tags:
  - BFS
  - æ¯æ—¥ä¸€é¢˜
categories:
  - Leetcode
image:
  url: '/blog-post.webp'
  alt: 'blog placeholder'
worksImage1:
  url: '/blog-post.webp'
  alt: 'blog placeholder'
worksImage2:
  url: '/blog-post.webp'
  alt: 'blog placeholder.'
platform: Leetcode
stack: JavaScript
website: https://leetcode-cn.com
github: https://github.com/DoubleWoodLin
---

# **é¢˜ç›®è¯´æ˜**

N x N çš„æ£‹ç›˜ Â board ä¸Šï¼ŒæŒ‰ä» Â 1 åˆ° N\*NÂ  çš„æ•°å­—ç»™æ–¹æ ¼ç¼–å·ï¼Œç¼–å· ä»å·¦ä¸‹è§’å¼€å§‹ï¼Œæ¯ä¸€è¡Œäº¤æ›¿æ–¹å‘ã€‚

ä¾‹å¦‚ï¼Œä¸€å— 6 x 6 å¤§å°çš„æ£‹ç›˜ï¼Œç¼–å·å¦‚ä¸‹ï¼š

r è¡Œ c åˆ—çš„æ£‹ç›˜ï¼ŒæŒ‰å‰è¿°æ–¹æ³•ç¼–å·ï¼Œæ£‹ç›˜æ ¼ä¸­å¯èƒ½å­˜åœ¨ â€œè›‡â€ æˆ– â€œæ¢¯å­â€ï¼›å¦‚æœ board[r][c] != -1ï¼Œé‚£ä¸ªè›‡æˆ–æ¢¯å­çš„ç›®çš„åœ°å°†ä¼šæ˜¯ board[r][c]ã€‚

ç©å®¶ä»æ£‹ç›˜ä¸Šçš„æ–¹æ ¼ Â 1 ï¼ˆæ€»æ˜¯åœ¨æœ€åä¸€è¡Œã€ç¬¬ä¸€åˆ—ï¼‰å¼€å§‹å‡ºå‘ã€‚

æ¯ä¸€å›åˆï¼Œç©å®¶éœ€è¦ä»å½“å‰æ–¹æ ¼ x å¼€å§‹å‡ºå‘ï¼ŒæŒ‰ä¸‹è¿°è¦æ±‚å‰è¿›ï¼š

é€‰å®šç›®æ ‡æ–¹æ ¼ï¼šé€‰æ‹©ä»ç¼–å· x+1ï¼Œx+2ï¼Œx+3ï¼Œx+4ï¼Œx+5ï¼Œæˆ–è€… x+6 çš„æ–¹æ ¼ä¸­é€‰å‡ºä¸€ä¸ªç›®æ ‡æ–¹æ ¼ s ï¼Œç›®æ ‡æ–¹æ ¼çš„ç¼–å· <= N\*Nã€‚
è¯¥é€‰æ‹©æ¨¡æ‹Ÿäº†æ·éª°å­çš„æƒ…æ™¯ï¼Œæ— è®ºæ£‹ç›˜å¤§å°å¦‚ä½•ï¼Œä½ çš„ç›®çš„åœ°èŒƒå›´ä¹Ÿåªèƒ½å¤„äºåŒºé—´ [x+1, x+6] ä¹‹é—´ã€‚
ä¼ é€ç©å®¶ï¼šå¦‚æœç›®æ ‡æ–¹æ ¼ S å¤„å­˜åœ¨è›‡æˆ–æ¢¯å­ï¼Œé‚£ä¹ˆç©å®¶ä¼šä¼ é€åˆ°è›‡æˆ–æ¢¯å­çš„ç›®çš„åœ°ã€‚å¦åˆ™ï¼Œç©å®¶ä¼ é€åˆ°ç›®æ ‡æ–¹æ ¼ Sã€‚Â 
æ³¨æ„ï¼Œç©å®¶åœ¨æ¯å›åˆçš„å‰è¿›è¿‡ç¨‹ä¸­æœ€å¤šåªèƒ½çˆ¬è¿‡è›‡æˆ–æ¢¯å­ä¸€æ¬¡ï¼šå°±ç®—ç›®çš„åœ°æ˜¯å¦ä¸€æ¡è›‡æˆ–æ¢¯å­çš„èµ·ç‚¹ï¼Œä½ ä¹Ÿä¸ä¼šç»§ç»­ç§»åŠ¨ã€‚

è¿”å›è¾¾åˆ°æ–¹æ ¼ N\*N æ‰€éœ€çš„æœ€å°‘ç§»åŠ¨æ¬¡æ•°ï¼Œå¦‚æœä¸å¯èƒ½ï¼Œåˆ™è¿”å› -1ã€‚

ç¤ºä¾‹ï¼š

è¾“å…¥ï¼š[
[-1,-1,-1,-1,-1,-1],
[-1,-1,-1,-1,-1,-1],
[-1,-1,-1,-1,-1,-1],
[-1,35,-1,-1,13,-1],
[-1,-1,-1,-1,-1,-1],
[-1,15,-1,-1,-1,-1]]
è¾“å‡ºï¼š4
è§£é‡Šï¼š
é¦–å…ˆï¼Œä»æ–¹æ ¼ 1 [ç¬¬ 5 è¡Œï¼Œç¬¬ 0 åˆ—] å¼€å§‹ã€‚
ä½ å†³å®šç§»åŠ¨åˆ°æ–¹æ ¼ 2ï¼Œå¹¶å¿…é¡»çˆ¬è¿‡æ¢¯å­ç§»åŠ¨åˆ°åˆ°æ–¹æ ¼ 15ã€‚
ç„¶åä½ å†³å®šç§»åŠ¨åˆ°æ–¹æ ¼ 17 [ç¬¬ 3 è¡Œï¼Œç¬¬ 5 åˆ—]ï¼Œå¿…é¡»çˆ¬è¿‡è›‡åˆ°æ–¹æ ¼ 13ã€‚
ç„¶åä½ å†³å®šç§»åŠ¨åˆ°æ–¹æ ¼ 14ï¼Œä¸”å¿…é¡»é€šè¿‡æ¢¯å­ç§»åŠ¨åˆ°æ–¹æ ¼ 35ã€‚
ç„¶åä½ å†³å®šç§»åŠ¨åˆ°æ–¹æ ¼ 36, æ¸¸æˆç»“æŸã€‚
å¯ä»¥è¯æ˜ä½ éœ€è¦è‡³å°‘ 4 æ¬¡ç§»åŠ¨æ‰èƒ½åˆ°è¾¾ç¬¬ N\*N ä¸ªæ–¹æ ¼ï¼Œæ‰€ä»¥ç­”æ¡ˆæ˜¯ 4ã€‚

æç¤ºï¼š

2 <= board.length = board[0].lengthÂ <= 20
board[i][j]Â  ä»‹äº Â 1Â  å’Œ Â N*NÂ  ä¹‹é—´æˆ–è€…ç­‰äº Â -1ã€‚
ç¼–å·ä¸º Â 1Â  çš„æ–¹æ ¼ä¸Šæ²¡æœ‰è›‡æˆ–æ¢¯å­ã€‚
ç¼–å·ä¸º Â N*NÂ  çš„æ–¹æ ¼ä¸Šæ²¡æœ‰è›‡æˆ–æ¢¯å­ã€‚

æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/snakes-and-ladders
è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚

# **å®ç°æ€è·¯**

æœ¬é¢˜å¯ä»¥ç”¨ä¼ ç»Ÿçš„ BFS æœç´¢è§£ç­”ï¼Œå³ç”¨é˜Ÿåˆ—ä¿å­˜æ¯ä¸€ä¸ªå¯èƒ½æŠµè¾¾çš„çŠ¶æ€ï¼Œå¾ªç¯éå†ç›´åˆ°é˜Ÿåˆ—ä¸ºç©ºï¼Œéœ€è¦æ³¨æ„çš„æ˜¯éå†åˆ°æœ‰è›‡æˆ–è€…æ¢¯å­çš„æ ¼å­æ—¶éœ€è¦ç›´æ¥ä¼ é€åˆ°æŒ‡å®šçš„æ ¼å­ã€‚å½“ç„¶ï¼Œè¿˜éœ€è¦ä¸€ä¸ªå“ˆå¸Œé›†åˆä¿å­˜è®¿é—®è¿‡çš„æ ¼å­ï¼Œé¿å…é‡å¤è®¿é—®ã€‚

ä»£ç å¦‚ä¸‹ï¼š

```javascript
/**
 * @param {number[][]} board
 * @return {number}
 */
var snakesAndLadders = function (board) {
  const m = board.length;
  const n = board[0].length;
  let flag = true;
  const q = [1];
  let k = 1;
  const map = new Map(); // mapç”¨æ¥ä¿å­˜ç›¸åº”æ ¼å­çš„è¡Œåˆ—æ•°ã€‚
  // å»ºç«‹æ•°å­—å’Œè¡Œåˆ—æ•°çš„æ˜ å°„ã€‚
  for (let i = m - 1; i >= 0; i--) {
    if (flag) {
      for (let j = 0; j < n; j++) {
        map.set(k++, [i, j]);
      }
    } else {
      for (let j = n - 1; j >= 0; j--) {
        map.set(k++, [i, j]);
      }
    }
    flag = !flag;
  }
  let ans = 0;
  const cache = new Set();
  while (q.length) {
    let len = q.length;
    for (let i = 0; i < len; i++) {
      const cur = q.shift();
      if (cache.has(cur)) {
        continue;
      }
      cache.add(cur);
      if (cur === n * m) {
        return ans;
      }
      for (let j = 1; j <= 6; j++) {
        if (cur + j > n * m) {
          break;
        }
        [row, col] = map.get(cur + j);
        if (board[row][col] !== -1) {
          q.push(board[row][col]);
        } else {
          q.push(cur + j);
        }
      }
    }
    ans++;
  }
  return -1;
};
```
